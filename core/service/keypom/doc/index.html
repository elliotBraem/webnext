<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>keypom-js</title><meta name="description" content="Documentation for keypom-js"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">keypom-js</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>keypom-js</h2></div>
<div class="tsd-panel tsd-typography"><div align="center">
  <h1>
  Keypom JavaScript SDK
  </h1>
  Interacting with the Keypom Protocol made seamless.
</div>

<div align="center">
<br />

<p>Check out our official Keypom <a href="https://docs.keypom.xyz/">Documentation</a> for tutorials, concepts and more!.</p>
<p><a href="https://github.com/BenKurrek"><img src="https://img.shields.io/badge/made%20by-BenKurrek-ff1414.svg?style=flat-square" alt="made by BenKurrek"></a>
<a href="https://github.com/mattlockyer"><img src="https://img.shields.io/badge/made%20by-MattLockyer-ff1414.svg?style=flat-square" alt="made by mattlockyer"></a></p>
</div>

<details open="open">
<summary>Table of Contents</summary>

<ul>
<li><a href="#about">About</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#initializing-the-sdk">Initializing the SDK</a></li>
<li><a href="#view-functions">View Functions</a></li>
<li><a href="#creating-drops">Creating Drops</a><ul>
<li><a href="#creating-a-simple-drop-with-10-random-keys">Simple Drop With 10 Random Keys</a></li>
<li><a href="#creating-a-simple-drop-with-5-deterministically-generated-keys">Simple Drop With Deterministic Keys</a></li>
<li><a href="#creating-a-simple-drop-with-pre-created-keys">Simple Drop With Pre-Created Keys</a></li>
<li><a href="#creating-a-simple-drop-with-a-password-protected-key">Password Protected Keys</a></li>
</ul>
</li>
<li><a href="#claiming-linkdrops">Claiming Linkdrops</a><ul>
<li><a href="#claiming-a-linkdrop-to-an-Existing-Account">Claiming To Existing Account</a></li>
<li><a href="#Claiming-a-Linkdrop-and-Onboarding-a-New-User">Claiming To a New Account</a></li>
<li><a href="#Claiming-a-Password-Protected-Linkdrop">Claiming Password Protected Drops</a></li>
</ul>
</li>
<li><a href="#Deleting-Keys-and-Drops">Deleting Keys and Drops</a><ul>
<li><a href="#Delete-Keys">Deleting Keys</a></li>
<li><a href="#Delete-Drops">Deleting Drops</a></li>
</ul>
</li>
<li><a href="#Account-Balances-for-Smooth-UX">Account Balances for Smooth UX</a></li>
<li><a href="#Utility-Functions">Utility Functions</a></li>
</ul>
</li>
<li><a href="#tests">Tests</a><ul>
<li><a href="#Running-the-Tests">Running the Tests</a></li>
</ul>
</li>
<li><a href="#costs">Costs</a><ul>
<li><a href="#per-drop">Per Drop</a></li>
<li><a href="#per-key">Per Key</a></li>
</ul>
</li>
<li><a href="#how-linkdrops-work">How Linkdrops Work</a></li>
<li><a href="#contributing">Contributing</a></li>
</ul>
</details>

<hr>

<a href="#about" id="about" style="color: inherit; text-decoration: none;">
  <h1>About</h1>
</a>
<blockquote>
<p>To view our debut talk at NEARCON 2022, click <a href="https://www.youtube.com/watch?v=J-BOnfhHV50">here</a>.
To read more about the Keypom Protocol, refer to the <a href="https://github.com/keypom/keypom#about">official GitHub repository</a></p>
</blockquote>
<p>The Keypom JavaScript SDK is a library that allows developers to easily interact with the Keypom Protocol. The SDK abstracts away all the complex interactions that come with interacting with the protocol. It allows developers to tap into the power of Keypom with as little barrier to entry as possible by providing easy to use plug-and-play functions.</p>
<p>Developers should be able to focus on building without needing to understand exactly how interactions with the Keypom protocol work.</p>
<p>The Keypom SDK was built with flexibility in mind. We want to support integrating Keypom whether you&#39;re creating a dApp built with the with the <a href="https://github.com/near/wallet-selector">wallet-selector</a>, creating a backend, or if you&#39;re simply using a local node script.</p>
<p>To build the complete TypeDocs locally, run the following command:</p>
<pre><code class="language-ts"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">build</span><span class="hl-1">-</span><span class="hl-0">docs</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-0">doc</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">python</span><span class="hl-1"> -</span><span class="hl-0">m</span><span class="hl-1"> </span><span class="hl-0">http</span><span class="hl-1">.</span><span class="hl-0">server</span><span class="hl-1"> </span><span class="hl-2">4200</span>
</code></pre>
<p>Alternatively, you can visit the official Keypom docs which host the type docs found <a href="https://docs.keypom.xyz/">here</a>.</p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h1>Installation</h1>
</a>
<p>To install the Keypom SDK, simply run the following command:</p>
<pre><code class="language-bash"><span class="hl-1">npm </span><span class="hl-3">install</span><span class="hl-1"> </span><span class="hl-3">keypom-js</span><br/><span class="hl-4"># or</span><br/><span class="hl-1">yarn </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">keypom-js</span><br/><span class="hl-4"># or</span><br/><span class="hl-1">pnpm </span><span class="hl-3">add</span><span class="hl-1"> </span><span class="hl-3">keypom-js</span>
</code></pre>
<p>This should add the following dependency to your <code>package.json</code> where the version number will be the latest SDK release.</p>
<pre><code class="language-js"><span class="hl-3">&quot;dependencies&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-3">&quot;keypom-js&quot;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-3">&quot;*.*.*&quot;</span><br/><span class="hl-1">},</span>
</code></pre>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h1>Getting Started</h1>
</a>
<p>The first thing to do when getting started with the SDK is to call the <code>initKeypom</code> function. This will initialize the state and establish a connection to the NEAR blockchain. This <em>must</em> be done before using any other function that interacts with the chain. The exception is if you&#39;re only using utility functions such as <code>generateKeys</code> which does not interact with the blockchain. </p>

<a href="#initializing-the-sdk" id="initializing-the-sdk" style="color: inherit; text-decoration: none;">
  <h2>Initializing the SDK</h2>
</a>
<p>When calling <code>initKeypom</code>, there are several arguments that can be passed in as outlined below.</p>
<ul>
<li><code>near?</code> (<a href="https://github.com/near/near-api-js/blob/master/packages/near-api-js/src/near.ts">NEAR</a>): A pre-existing NEAR connection object to use. By default, the SDK will create a new connection based on the <code>network</code> passed in.</li>
<li><code>network</code> (string): The network to connect to, either <code>mainnet</code> or <code>testnet</code>.</li>
<li><code>funder?</code> (<a href="https://github.com/keypom/keypom-js/blob/main/src/lib/types/general.ts#L20-L42">Funder</a>): Object containing important information about the funder&#39;s account. If specified, the SDK will use this account to sign all transactions unless otherwise overridden by passing in a <code>wallet</code> or <code>account</code> argument in the SDK methods.</li>
<li><code>keypomContractId?</code> (string): Instead of using the most up-to-date, default Keypom contract, you can specify a specific account ID to use. If an older version is specified, some features of the SDK might not be usable. It is important to note that the SDK only works for official Keypom contracts.</li>
</ul>
<p>There are several different scenarios that will determine what should be passed into <code>initKeypom</code>:</p>
<ul>
<li>If you only wish to invoke <code>view</code> methods and retrieve information from the Protocol without signing any transactions, no <code>funder</code> object is required.</li>
<li>If the funder changes a lot, you may wish to pass in a custom <code>near</code> object that has a <code>keyStore</code> containing the keys for each funder. When you then call SDK methods, you can pass in different <code>account</code> objects.</li>
<li>If you&#39;re using the SDK on a frontend with wallet-selector, don&#39;t pass in a <code>funder</code> object and instead pass in a <code>wallet</code> object when calling SDK methods.</li>
</ul>

<a href="#view-functions" id="view-functions" style="color: inherit; text-decoration: none;">
  <h2>View Functions</h2>
</a>
<p>Once the SDK has been initialized, you can start calling methods. The simplest functions to call are those that require no signature and are used to retrieve information from the protocol. A list of view functions available and what they do can be found below.</p>
<ul>
<li><code>getKeyBalance</code> - Returns the balance associated with given key. This is used by the NEAR wallet to display the amount of the linkdrop.</li>
<li><code>getKeyTotalSupply</code> - Query for the total supply of keys currently on the Keypom contract.</li>
<li><code>getKeys</code> - Paginate through all active keys on the contract and return a vector of key info.</li>
<li><code>getKeyInformation</code> - Returns the KeyInfo corresponding to a specific public key.</li>
<li><code>getKeyInformationBatch</code> - Returns a vector of KeyInfo corresponding to a set of public keys passed in.</li>
<li><code>getDropInformation</code> - Get information about a specific drop by passing in either a drop ID, public key, or secret key.</li>
<li><code>getKeySupplyForDrop</code> - Returns the total supply of active keys for a given drop.</li>
<li><code>getKeysForDrop</code> - Paginate through all keys in a specific drop, returning an array of KeyInfo.</li>
<li><code>getDropSupplyForOwner</code> - Returns the total supply of active drops for a given account ID</li>
<li><code>getDrops</code> - Paginate through drops owned by an account. If specified, information for the first 50 keys in each drop can be returned as well.</li>
<li><code>getNftSupplyForDrop</code> - Return the total supply of token IDs for a given NFT drop.</li>
<li><code>getNftTokenIDsForDrop</code> - Paginate through token IDs in an NFT drop to return a vector of token IDs.</li>
<li><code>getUserBalance</code> - Query for a user&#39;s current balance on the Keypom contract</li>
<li><code>getContractSourceMetadata</code> - Returns the source metadata for the Keypom contract that the SDK has been initialized on. This includes valuable information such as which specific version the contract is on and link to exactly which GitHub commit is deployed.</li>
</ul>
<p>A quick example of showing how to initialize the SDK and call a view function is shown below:</p>
<pre><code class="language-typescript"><span class="hl-4">// Initialize the SDK on testnet. No funder is passed in since we&#39;re only doing view calls.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">   </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Query for the Keypom contract&#39;s source metadata</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">metadata</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">getContractSourceMetadata</span><span class="hl-1">();</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;metadata: &#39;</span><span class="hl-1">, </span><span class="hl-0">metadata</span><span class="hl-1">)</span>
</code></pre>

<a href="#creating-drops" id="creating-drops" style="color: inherit; text-decoration: none;">
  <h2>Creating Drops</h2>
</a>
<p>The core of Keypom revolves around creating drops. This is where the true power of the protocol comes in. With the SDK, the complex logic and data structures have been simplified and abstracted away from the developer. With this in mind, to create a drop, you need to call the <code>createDrop</code> function. It has a suite of arguments depending on what the desired outcome should be:</p>
<ul>
<li><code>account?</code> (<a href="https://github.com/near/near-api-js/blob/master/packages/near-api-js/src/account.ts">Account</a>) - Valid NEAR account object that if passed in, will be used to sign the txn instead of the funder account.</li>
<li><code>wallet?</code> (<a href="https://github.com/near/wallet-selector/blob/main/packages/core/src/lib/wallet/wallet.types.ts">BrowserWalletBehaviour | Wallet</a>) - If using a browser wallet through wallet selector and that wallet should sign the transaction, pass in the object.</li>
<li><code>numKeys</code> (number) - Specify how many keys should be generated for the drop. If <code>publicKeys</code> is not passed in, <code>numKeys</code> number of keys are automatically created. The behaviour of this automatic creation depends on if the funder has rootEntropy set OR rootEntropy is passed in. In this case, the keys will be deterministically generated using the drop ID, key nonce, and entropy. Otherwise, each key will be generated randomly.</li>
<li><code>publicKeys?</code> (string[]) - Pass in a custom set of publicKeys to add to the drop. If this is not passed in, keys will be generated based on the <code>numKeys</code> parameter.</li>
<li><code>depositPerUseNEAR?</code> (number) - Specify how much $NEAR should be contained in each link. Unit in $NEAR (i.e <code>1</code> = 1 $NEAR)</li>
<li><code>depositPerUseYocto?</code> (string) - Specify how much $yoctoNEAR should be contained in each link. Unit in yoctoNEAR (1 yoctoNEAR = 1e-24 $NEAR)</li>
<li><code>dropId?</code> (string) - Specify a custom drop ID rather than using one from the SDK. If no drop ID is passed in, an ID equal to <code>Date.now()</code> will be used.</li>
<li><code>config?</code> (<a href="https://github.com/keypom/keypom-js/blob/ben/readme/src/lib/types/drops.ts#L61-L99">DropConfig</a>) - Allows specific drop behaviors to be configured such as the number of uses each key / link will have.</li>
<li><code>metadata?</code> (string) - Specify a string of metadata to attach to the drop. This can be whatever you would like and is optional. Often this is stringified JSON.</li>
<li><code>simpleData?</code> (<a href="https://github.com/keypom/keypom-js/blob/main/src/lib/types/drops.ts#L61-L99">SimpleData</a>) - For creating a simple drop, this contains necessary configurable information about the drop.</li>
<li><code>ftData?</code> (<a href="https://github.com/keypom/keypom-js/blob/main/src/lib/types/ft.ts#L1-L23">FTData</a>) - For creating a fungible token drop, this contains necessary configurable information about the drop.</li>
<li><code>nftData?</code> (<a href="https://github.com/keypom/keypom-js/blob/main/src/lib/types/nft.ts#L1-L15">NFTData</a>) - For creating a non-fungible token drop, this contains necessary configurable information about the drop.</li>
<li><code>fcData?</code> (<a href="https://github.com/keypom/keypom-js/blob/main/src/lib/types/fc.ts#L57-L70">FCData</a>) - For creating a function call drop, this contains necessary configurable information about the drop.</li>
<li><code>rootEntropy?</code> (string) - Specify a custom entropy to use for generating keys (will overload the funder&#39;s rootEntropy if applicable). This parameter only matters if the publicKeys variable is not passed in.</li>
<li><code>basePassword?</code> (string) - For doing password protected drops, this is the base string that will be used to generate all the passwords. It will be double hashed with the public key and specific key use to generate the password for each key.</li>
<li><code>passwordProtectedUses?</code> (number[]) - For doing password protected drops, specifies exactly which uses will be password protected. The uses are NOT zero indexed (i.e 1st use = 1). Each use will have a different, unique password generated via double hashing the base password + public key + key use.</li>
<li><code>useBalance?</code> (boolean) - If the account has a balance within the Keypom contract, set this to true to avoid the need to attach a deposit. If the account doesn&#39;t have enough balance, an error will throw.</li>
<li><code>returnTransactions?</code> (boolean) - If true, the transaction will be returned instead of being signed and sent. This is useful for getting the requiredDeposit from the return value without actually signing the transaction.</li>
<li><code>successUrl?</code> (string) - When signing with a wallet, a success URl can be included that the user will be redirected to once the transaction has been successfully signed.</li>
</ul>
<p>While there are many fields and it may be overwhelming, seeing examples will help clear things up.</p>
<p>The last thing to note is the return value of <code>createDrop</code> since it contains important information that can be used to interact with the drop. The return value is an object with the following fields:</p>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Information returned when creating a drop or adding keys via `createDrop` and `addKeys` respectively.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-7">interface</span><span class="hl-1"> </span><span class="hl-9">CreateOrAddReturn</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">/** The responses to any transactions that were signed and sent to the network. */</span><br/><span class="hl-1">    </span><span class="hl-0">responses</span><span class="hl-1">?: </span><span class="hl-9">any</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">/** Information about the transactions if `returnTransactions` is specified in the arguments. This will result in the information being returned instead of signed and sent.  */</span><br/><span class="hl-1">    </span><span class="hl-0">transactions</span><span class="hl-1">?: </span><span class="hl-9">Transaction</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-4">/** The required deposit that should be attached to the transaction. */</span><br/><span class="hl-1">    </span><span class="hl-0">requiredDeposit</span><span class="hl-1">?: </span><span class="hl-9">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">/** Any keys that were automatically generated. */</span><br/><span class="hl-1">    </span><span class="hl-0">keys</span><span class="hl-1">?: {</span><br/><span class="hl-1">        </span><span class="hl-4">/** Actual KeyPair objects that can be used to sign messages, verify signatures, and get the public and private keys */</span><br/><span class="hl-1">        </span><span class="hl-0">keyPairs</span><span class="hl-1">: </span><span class="hl-9">NearKeyPair</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-4">/** Set of public keys that were generated */</span><br/><span class="hl-1">        </span><span class="hl-0">publicKeys</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[];</span><br/><span class="hl-1">        </span><span class="hl-4">/** Set of private keys that were generated */</span><br/><span class="hl-1">        </span><span class="hl-0">secretKeys</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[];</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">/** The drop ID for the drop that is being interacted with. */</span><br/><span class="hl-1">    </span><span class="hl-0">dropId</span><span class="hl-1">: </span><span class="hl-9">string</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#creating-a-simple-drop-with-10-random-keys" id="creating-a-simple-drop-with-10-random-keys" style="color: inherit; text-decoration: none;">
  <h3>Creating a simple drop with 10 random keys</h3>
</a>
<p>In this example, a simple $NEAR drop with 10 keys will be created. To start, the Keypom SDK is initialized with a funder object (since a transaction will be signed). This funder object contains no <code>rootEntropy</code> field since all the keys should be random.</p>
<p>The next step is to create the drop with 10 keys. <code>numKeys</code> is passed in as well as <code>depositPerUseNEAR</code> to indicate that each key should contain 1 $NEAR.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection. No entropy passed in so any auto-generated keys will be completely random unless otherwise overwritten.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create a drop with 10 completely random keys. The return value `keys` contains information about the generated keys</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">keys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">10</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;public keys: &#39;</span><span class="hl-1">, </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">publicKeys</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;private keys: &#39;</span><span class="hl-1">, </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">secretKeys</span><span class="hl-1">);</span>
</code></pre>

<a href="#creating-a-simple-drop-with-5-deterministically-generated-keys" id="creating-a-simple-drop-with-5-deterministically-generated-keys" style="color: inherit; text-decoration: none;">
  <h3>Creating a simple drop with 5 deterministically generated keys</h3>
</a>
<p>In this example, a simple $NEAR drop will be created whereby all the keys are deterministically generated based off the funder&#39;s <code>rootEntropy</code> (think a password). This allows the funder to be able to recover the keys easily assuming they know the password.</p>
<p>To start, <code>initKeypom</code> is called and the funder object is passed in and contains a root entropy set to <code>my-global-secret-password</code>. This means that any keys that are <em>auto-generated</em> will be based off this entropy rather than being random.</p>
<p>Once the SDK is initialized, the drop is created with 5 keys and 1 $NEAR per key. To double check if everything worked, the <code>generateKeys</code> method can be leveraged where each key can be generated from the <code>rootEntropy</code>, the <code>dropId</code>, and the corresponding key nonce (starting at 0). This second piece of entropy that is unique to each key is known as <code>metaEntropy</code>. We can generated it by setting an array equal to: <code>[&quot;1_0&quot;, &quot;1_1&quot;, &quot;1_2&quot;, &quot;1_3&quot;, &quot;1_4&quot;]</code> where <code>1</code> is the drop ID and the second number is the key nonce (separated by an underscore since that&#39;s how the SDK does things). What happens behind the scenes is that the root entropy is combined with the meta entropy for each key and hashed to generate the key.</p>
<p>Using <code>generateKeys</code>, the resulting keys can be compared with the ones generated by the SDK and they turn out to be the same.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection. Root entropy is passed into the funder account so any generated keys will be based off that entropy.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-3">&quot;d25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">rootEntropy:</span><span class="hl-1"> </span><span class="hl-3">&quot;my-global-secret-password&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create a simple drop with 5 keys. Each key will be derived based on the rootEntropy of the funder, drop ID, and key nonce.</span><br/><span class="hl-7">const</span><span class="hl-1"> { </span><span class="hl-0">keys</span><span class="hl-1">: </span><span class="hl-8">keysFromDrop</span><span class="hl-1">, </span><span class="hl-8">dropId</span><span class="hl-1"> } = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Deterministically Generate the Private Keys:</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">nonceDropIdMeta</span><span class="hl-1"> = </span><span class="hl-0">Array</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">({</span><span class="hl-0">length:</span><span class="hl-1"> </span><span class="hl-2">5</span><span class="hl-1">}, (</span><span class="hl-0">_</span><span class="hl-1">, </span><span class="hl-0">i</span><span class="hl-1">) </span><span class="hl-7">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-7">${</span><span class="hl-0">dropId</span><span class="hl-7">}</span><span class="hl-3">_</span><span class="hl-7">${</span><span class="hl-0">i</span><span class="hl-7">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">manualKeys</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">generateKeys</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">rootEntropy:</span><span class="hl-1"> </span><span class="hl-3">&quot;my-global-secret-password&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">metaEntropy:</span><span class="hl-1"> </span><span class="hl-0">nonceDropIdMeta</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-4">// Get the public and private keys from the keys generated by the drop</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">publicKeys</span><span class="hl-1">, </span><span class="hl-8">secretKeys</span><span class="hl-1">} = </span><span class="hl-0">keysFromDrop</span><span class="hl-1">;</span><br/><span class="hl-4">// Get the public and private keys from the keys that were manually generated</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-0">publicKeys</span><span class="hl-1">: </span><span class="hl-8">pubKeysGenerated</span><span class="hl-1">, </span><span class="hl-0">secretKeys</span><span class="hl-1">: </span><span class="hl-8">secretKeysGenerated</span><span class="hl-1">} = </span><span class="hl-0">manualKeys</span><span class="hl-1">;</span><br/><span class="hl-4">// These should match!</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;secretKeys: &#39;</span><span class="hl-1">, </span><span class="hl-0">secretKeys</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;secretKeysGenerated: &#39;</span><span class="hl-1">, </span><span class="hl-0">secretKeysGenerated</span><span class="hl-1">)</span><br/><br/><span class="hl-4">// These should match!</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;publicKeys: &#39;</span><span class="hl-1">, </span><span class="hl-0">publicKeys</span><span class="hl-1">)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;pubKeysGenerated: &#39;</span><span class="hl-1">, </span><span class="hl-0">pubKeysGenerated</span><span class="hl-1">)</span>
</code></pre>

<a href="#creating-a-simple-drop-with-pre-created-keys" id="creating-a-simple-drop-with-pre-created-keys" style="color: inherit; text-decoration: none;">
  <h3>Creating a simple drop with pre-created keys</h3>
</a>
<p>This example showcases how you can create a simple drop and pass in keys that are generated ahead of time rather than having them be auto-generated. The first step is always to call <code>initKeypom</code>. Once that&#39;s finished, the keypairs can be generated by calling <code>generateKeys</code> and passing in the number of keys to create. Those public keys can then be passed into <code>createDrop</code>.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection. No entropy passed in so any auto generated keys will be completely random unless otherwise overwritten.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">}</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Generate 10 random keys</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">publicKeys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">generateKeys</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">10</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create a drop using the keys that were generated. Since keys are passed in, the return value won&#39;t contain information about the keys.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">publicKeys</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code></pre>

<a href="#creating-a-simple-drop-with-a-password-protected-key" id="creating-a-simple-drop-with-a-password-protected-key" style="color: inherit; text-decoration: none;">
  <h3>Creating a simple drop with a password protected key</h3>
</a>
<p>This example shows how you can create a password-protected key. This means that only the person with both the private key <em>and</em> the password can claim the $NEAR. The first step is always to call <code>initKeypom</code>. After that, a <code>basePassword</code> can be passed into <code>createDrop</code>. By passing in that parameter, the SDK will enable password protection whereby the password is equal to a hash of <code>&#39;basePassword + publicKey + keyUse&#39;</code>.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">basePassword</span><span class="hl-1"> = </span><span class="hl-3">&quot;my-cool-password123&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">// Create a simple drop with 1 $NEAR and pass in a base password to create a unique password for each use of each key</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">keys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">basePassword</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create the password to pass into claim which is a hash of the basePassword, public key and whichever use we are on</span><br/><span class="hl-7">let</span><span class="hl-1"> </span><span class="hl-0">currentUse</span><span class="hl-1"> = </span><span class="hl-2">1</span><span class="hl-1">;</span><br/><span class="hl-7">let</span><span class="hl-1"> </span><span class="hl-0">passwordForClaim</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">hashPassword</span><span class="hl-1">(</span><span class="hl-0">basePassword</span><span class="hl-1"> + </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">publicKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">] + </span><span class="hl-0">currentUse</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">());</span>
</code></pre>

<a href="#claiming-linkdrops" id="claiming-linkdrops" style="color: inherit; text-decoration: none;">
  <h2>Claiming Linkdrops</h2>
</a>
<p>Once a drop has been created and there are keys available, they can be claimed by calling the SDK&#39;s <code>claim</code> function. This can be used to either claim the assets to an existing NEAR account or create an entirely new account. The parameters for the function are below.</p>
<ul>
<li><code>secretKey</code> (string) - The private key associated with the Keypom link. This can either contain the <code>ed25519:</code> prefix or not.</li>
<li><code>accountId?</code> (string) - The account ID of an existing account that will be used to claim the drop.</li>
<li><code>newAccountId?</code> (string) - If passed in, a new account ID will be created and the drop will be claimed to that account. This must be an account that does not exist yet. This must be passed in conjunction with <code>newPublicKey</code>.</li>
<li><code>newPublicKey?</code> (string) - If creating a new account, a public key must be passed in to be used as the full access key for the newly created account.</li>
<li><code>password?</code> (string) - If a password is required to use the key, it can be passed in.</li>
</ul>
<p>As with creating drops, it helps to look at examples to understand the different scenarios whereby calling <code>claim</code> makes sense.</p>

<a href="#claiming-a-linkdrop-to-an-existing-account" id="claiming-a-linkdrop-to-an-existing-account" style="color: inherit; text-decoration: none;">
  <h3>Claiming a Linkdrop to an Existing Account</h3>
</a>
<p>In this example, you&#39;ll create a simple $NEAR drop with 1 key. The key will be automatically generated and will be completely random since no entropy is used. The first step is to initialize the SDK and call <code>createDrop</code>. The return value will contain <code>keys</code> since they&#39;re being auto-generated.</p>
<p>Once the drop is created, the secret key can be used to claim to an existing account <code>benjiman.testnet</code>.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create a simple drop with 1 $NEAR</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">keys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Claim the drop to the passed in account ID</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">claim</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">secretKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benjiman.testnet&quot;</span><br/><span class="hl-1">})</span>
</code></pre>

<a href="#claiming-a-linkdrop-and-onboarding-a-new-user" id="claiming-a-linkdrop-and-onboarding-a-new-user" style="color: inherit; text-decoration: none;">
  <h3>Claiming a Linkdrop and Onboarding a New User</h3>
</a>
<p>This example will show how to onboard a new user by claiming a simple linkdrop. To start, you&#39;ll create a simple $NEAR drop with 1 key. The key will be automatically generated and will be completely random since no entropy is used. </p>
<p>Once the drop is created, <code>claim</code> should be called and the new account ID and public key should be passed in. This public key can either be a completely new keypair or the same keypair that was used to claim the linkdrop. In this tutorial, a new keypair is generated. </p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create a simple drop with 1 $NEAR</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">keys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// create a new keypair which will be used for the new account</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">publicKeys</span><span class="hl-1">, </span><span class="hl-8">secretKeys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">generateKeys</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">1</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Claim the drop using the secret key from the drop creation step. The newly created account will have a keypair </span><br/><span class="hl-4">// from the generateKeys step.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">claim</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">secretKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-0">newAccountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;my-newly-creating-account.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">newPublicKey:</span><span class="hl-1"> </span><span class="hl-0">publicKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">]</span><br/><span class="hl-1">})</span>
</code></pre>

<a href="#claiming-a-password-protected-linkdrop" id="claiming-a-password-protected-linkdrop" style="color: inherit; text-decoration: none;">
  <h3>Claiming a Password Protected Linkdrop</h3>
</a>
<p>This example aims to show how a password protected drop can be created and claimed. The first step is always to initialize the SDK. Once that&#39;s finished, a base password for the key can be used and passed into <code>createDrop</code>.</p>
<p>When claiming the linkdrop, the password must be passed in otherwise the claim will be unsuccessful. This password is made up of the base password, public key, and current use the key is on (relevant for multi-use keys).</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">basePassword</span><span class="hl-1"> = </span><span class="hl-3">&quot;my-cool-password123&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">// Create a simple drop with 1 $NEAR and pass in a base password to create a unique password for each use of each key</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">keys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">basePassword</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create the password to pass into claim which is a hash of the basePassword, public key and whichever use we are on</span><br/><span class="hl-7">let</span><span class="hl-1"> </span><span class="hl-0">currentUse</span><span class="hl-1"> = </span><span class="hl-2">1</span><span class="hl-1">;</span><br/><span class="hl-7">let</span><span class="hl-1"> </span><span class="hl-0">passwordForClaim</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">hashPassword</span><span class="hl-1">(</span><span class="hl-0">basePassword</span><span class="hl-1"> + </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">publicKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">] + </span><span class="hl-0">currentUse</span><span class="hl-1">.</span><span class="hl-6">toString</span><span class="hl-1">());</span><br/><br/><span class="hl-4">// Claim the drop to the passed in account ID and use the password we generated above.</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">claim</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">secretKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benjiman.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">password:</span><span class="hl-1"> </span><span class="hl-0">passwordForClaim</span><br/><span class="hl-1">})</span>
</code></pre>

<a href="#deleting-keys-and-drops" id="deleting-keys-and-drops" style="color: inherit; text-decoration: none;">
  <h2>Deleting Keys and Drops</h2>
</a>
<p>Often times, not all the keys in your drop will be used. What happens to the excess keys? Keypom allows you to delete keys from a drop and get fully refunded for any unclaimed assets. This is done by calling the SDK&#39;s <code>deleteKeys</code> and <code>deleteDrops</code> respectively. The difference between the two is outlined below.</p>
<ul>
<li><code>deleteKeys</code> allows you to delete a set of specific keys from a drop and get refunded for the assets. This does <em>not</em> delete the drop as a whole.</li>
<li><code>deleteDrops</code> allows you to delete a set of drops and all the keys contained within them. It does this by recursively calling <code>deleteKeys</code> for each drop until they&#39;re empty and then deleting the drop itself.</li>
</ul>
<p>The parameters for both functions are outlined below:</p>

<a href="#delete-keys" id="delete-keys" style="color: inherit; text-decoration: none;">
  <h3>Delete Keys</h3>
</a>
<ul>
<li><code>account?</code> (<a href="https://github.com/near/near-api-js/blob/master/packages/near-api-js/src/account.ts">Account</a>) - Valid NEAR account object that if passed in, will be used to sign the txn instead of the funder account.</li>
<li><code>wallet?</code> (<a href="https://github.com/near/wallet-selector/blob/main/packages/core/src/lib/wallet/wallet.types.ts">BrowserWalletBehaviour | Wallet</a>) - If using a browser wallet through wallet selector and that wallet should sign the transaction, pass in the object.</li>
<li><code>publicKeys</code> (string[] | string) - Specify a set of public keys to delete. If deleting a single publicKey, the string can be passed in without wrapping it in an array.</li>
<li><code>dropId</code> (string) - Which drop ID do the keys belong to?</li>
<li><code>withdrawBalance?</code> (boolean) - Whether or not to withdraw any remaining balance on the Keypom contract.</li>
</ul>
<p>An example of deleting keys can be seen below where a simple drop with 5 keys is created and one key is deleted.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// Create the simple drop with 5 random keys</span><br/><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">keys</span><span class="hl-1">, </span><span class="hl-8">dropId</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">deleteKeys</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">dropId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">publicKeys:</span><span class="hl-1"> </span><span class="hl-0">keys</span><span class="hl-1">.</span><span class="hl-0">publicKeys</span><span class="hl-1">[</span><span class="hl-2">0</span><span class="hl-1">] </span><span class="hl-4">// Can be wrapped in an array as well</span><br/><span class="hl-1">})</span>
</code></pre>

<a href="#delete-drops" id="delete-drops" style="color: inherit; text-decoration: none;">
  <h3>Delete Drops</h3>
</a>
<ul>
<li><code>account?</code> (<a href="https://github.com/near/near-api-js/blob/master/packages/near-api-js/src/account.ts">Account</a>) - Valid NEAR account object that if passed in, will be used to sign the txn instead of the funder account.</li>
<li><code>wallet?</code> (<a href="https://github.com/near/wallet-selector/blob/main/packages/core/src/lib/wallet/wallet.types.ts">BrowserWalletBehaviour | Wallet</a>) - If using a browser wallet through wallet selector and that wallet should sign the transaction, pass in the object.</li>
<li><code>drops?</code> (<a href="https://github.com/keypom/keypom-js/blob/main/src/lib/types/protocol.ts#L29-L60">ProtocolReturnedDrop</a>[]) - If the set of drop information for the drops you want to delete (from <code>getDropInformation</code> or <code>getDrops</code>) is already known to the client, it can be passed in instead of the drop IDs to reduce computation.</li>
<li><code>dropIds?</code> (string[]) - Specify a set of drop IDs to delete.</li>
<li><code>withdrawBalance?</code> (boolean) - Whether or not to withdraw any remaining balance on the Keypom contract.</li>
</ul>
<p>An example of deleting drops can be seen below where 5 simple drops are created and then they&#39;re all deleted in one call to <code>deleteDrops</code>.</p>
<pre><code class="language-js"><span class="hl-4">// Initialize the SDK for the given network and NEAR connection</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">initKeypom</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">network:</span><span class="hl-1"> </span><span class="hl-3">&quot;testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">funder:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">secretKey:</span><span class="hl-1"> </span><span class="hl-3">&quot;ed25519:5yARProkcALbxaSQ66aYZMSBPWL9uPBmkoQGjV3oi2ddQDMh1teMAbz7jqNV9oVyMy7kZNREjYvWPqjcA6LW9Jb1&quot;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">// loop to create 5 simple drops each with 5 more keys than the next</span><br/><span class="hl-5">for</span><span class="hl-1">(</span><span class="hl-7">var</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> = </span><span class="hl-2">0</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1"> &lt; </span><span class="hl-2">5</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-4">// create 10 keys with no entropy (all random)</span><br/><span class="hl-1">    </span><span class="hl-7">const</span><span class="hl-1"> {</span><span class="hl-8">publicKeys</span><span class="hl-1">} = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">generateKeys</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-0">numKeys:</span><span class="hl-1"> </span><span class="hl-2">5</span><span class="hl-1"> * (</span><span class="hl-0">i</span><span class="hl-1">+</span><span class="hl-2">1</span><span class="hl-1">) </span><span class="hl-4">// First drop will have 5, then 10, then 15 etc..</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// Create the simple </span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">createDrop</span><span class="hl-1">({</span><br/><span class="hl-1">        </span><span class="hl-0">publicKeys</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">depositPerUseNEAR:</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-7">let</span><span class="hl-1"> </span><span class="hl-0">drops</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">getDrops</span><span class="hl-1">({</span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benji_demo.testnet&quot;</span><span class="hl-1">});</span><br/><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">deleteDrops</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">drops</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-4">// Get the number of drops the account has after deletion (should be zero)</span><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">numDrops</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">getDropSupply</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">accountId:</span><span class="hl-1"> </span><span class="hl-3">&quot;benjiman.testnet&quot;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;numDrops: &#39;</span><span class="hl-1">, </span><span class="hl-0">numDrops</span><span class="hl-1">)</span>
</code></pre>

<a href="#account-balances-for-smooth-ux" id="account-balances-for-smooth-ux" style="color: inherit; text-decoration: none;">
  <h2>Account Balances for Smooth UX</h2>
</a>
<p>In order to make the UX of using Keypom seamless, the SDK supports the Protocol&#39;s debiting account model. All costs and refunds can go through your account&#39;s balance which is stored on the contract. This balance can be topped up or withdrawn at any moment using the SDK&#39;s <code>addToBalance</code> and <code>withdrawBalance</code> functions.</p>
<p>This account balance system is not used by default and must be explicitly enabled by passing in the <code>useBalance</code> flag to any corresponding functions. The benefits of using the account balance system is that for browser based wallets, you can skip redirects. </p>
<p>A very common scenario is creating a drop with many keys at once. To avoid having to redirect the user many times (since only 100 keys can be added to a drop at once), you can call <code>createDrop</code> and pass in <code>returnTransactions</code> set to true. This will result in the transaction being returned instead of signed and sent. At this point, you can get the required deposit from the returned object and use that in <code>addToBalance</code>.</p>
<p>At this point, the user will only be redirected once for the call to <code>addToBalance</code>. Once they returned, you can call <code>createDrop</code> in conjunction with <code>addKeys</code> with <code>useBalance</code> set to true.</p>

<a href="#utility-functions" id="utility-functions" style="color: inherit; text-decoration: none;">
  <h2>Utility Functions</h2>
</a>
<p>There are several functions and variables that have been exported in order to make developing easier. Below are a few notable functions:</p>
<ul>
<li><code>nearAPI</code> (variable) - Contains a suite of functionalities coming from <code>near-api-js</code>. This includes, but is not limited to the KeyPair object, formatting functions, different keystores etc.</li>
<li><code>updateFunder()</code> - Allows you to update the funder account for the SDK. This is useful if you want to use a different account to sign transactions.</li>
<li><code>useKeypom()</code> - Returns all the environment variables that are used by the SDK. This includes the funder object, Keypom contract, keystore, NEAR connection etc.</li>
<li><code>hashPassword()</code> - Generate a sha256 hash of a passed in string. This also supports hex encoded strings.</li>
<li><code>formatNearAmount()</code> - Converts a human readable NEAR amount (i.e 1.5 $NEAR) to yoctoNEAR.</li>
<li><code>parseNearAmount()</code> - Converts a yoctoNEAR amount to a human readable NEAR amount (i.e 1500000000000000000000000 yoctoNEAR -&gt; 1.5 $NEAR).</li>
<li><code>generateKeys()</code> - Generate a desired number of keypairs. These can be created with or without entropy.</li>
</ul>

<a href="#tests" id="tests" style="color: inherit; text-decoration: none;">
  <h1>Tests</h1>
</a>
<p>The SDK comes equipped with a number of tests. These can be used as reference for different scenarios that arise with Keypom. To run the tests, you&#39;ll need to have a few prerequisites.</p>

<a href="#running-the-tests" id="running-the-tests" style="color: inherit; text-decoration: none;">
  <h2>Running the Tests</h2>
</a>
<p>First, you&#39;ll need a valid NEAR account&#39;s secret key and account ID. These need to exported as environment variables as the tests will be running on testnet and the transactions need to be signed. Export the following environment variables:</p>
<pre><code class="language-bash"><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-0">TEST_ACCOUNT_ID</span><span class="hl-1">=</span><span class="hl-3">&quot;YOUR_ACCOUNT_ID&quot;</span><br/><span class="hl-7">export</span><span class="hl-1"> </span><span class="hl-0">TEST_ACCOUNT_PRVKEY</span><span class="hl-1">=</span><span class="hl-3">&quot;YOUR_SECRET_KEY&quot;</span>
</code></pre>
<p>Once completed, install the dependencies:</p>
<pre><code class="language-bash"><span class="hl-1">npm </span><span class="hl-3">install</span>
</code></pre>
<p>At this point, everything is in order so that the tests can be run. The following command can be used to begin running the tests:</p>
<pre><code class="language-bash"><span class="hl-1">npm </span><span class="hl-3">run</span><span class="hl-1"> </span><span class="hl-3">test</span>
</code></pre>
<p>If all went well, the following should be outputted once all the tests have run:</p>
<pre><code class="language-bash"><span class="hl-1">  ✔ </span><span class="hl-3">delete</span><span class="hl-1"> </span><span class="hl-2">1</span><span class="hl-1"> </span><span class="hl-3">key</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-3">simple</span><span class="hl-1"> </span><span class="hl-3">drop</span><span class="hl-1"> (3.7s)</span><br/><span class="hl-1">requiredDeposit:  </span><span class="hl-2">1856805594168075000000050</span><br/><span class="hl-1">Receipt: </span><span class="hl-3">uN5cwkUFXB2gY4LE8vfuCGvA8BcqaTVgoExKQGu2Cct</span><br/><span class="hl-1">    Log [v1-3.keypom.testnet]: </span><span class="hl-3">User</span><span class="hl-1"> </span><span class="hl-3">balance</span><span class="hl-1"> </span><span class="hl-3">incremented</span><span class="hl-1"> </span><span class="hl-3">by</span><span class="hl-1"> </span><span class="hl-3">1.8568055.</span><span class="hl-1"> </span><span class="hl-3">Old:</span><span class="hl-1"> </span><span class="hl-2">0</span><span class="hl-1"> </span><span class="hl-3">new:</span><span class="hl-1"> </span><span class="hl-2">1.8568055</span><br/><span class="hl-1">  ✔ </span><span class="hl-3">Create</span><span class="hl-1"> </span><span class="hl-3">drop</span><span class="hl-1"> </span><span class="hl-3">and</span><span class="hl-1"> </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-3">requiredDeposit</span><span class="hl-1"> </span><span class="hl-3">so</span><span class="hl-1"> </span><span class="hl-3">it</span><span class="hl-1"> </span><span class="hl-3">can</span><span class="hl-1"> </span><span class="hl-3">be</span><span class="hl-1"> </span><span class="hl-3">added</span><span class="hl-1"> </span><span class="hl-3">to</span><span class="hl-1"> </span><span class="hl-3">balance</span><span class="hl-1"> (10.5s)</span><br/><span class="hl-1">  ✔ </span><span class="hl-3">invalid</span><span class="hl-1"> </span><span class="hl-3">args</span><span class="hl-1"> </span><span class="hl-3">being</span><span class="hl-1"> </span><span class="hl-3">passed</span><span class="hl-1"> </span><span class="hl-3">in</span><br/><span class="hl-1">  ─</span><br/><br/><span class="hl-1">  18 </span><span class="hl-3">tests</span><span class="hl-1"> </span><span class="hl-3">passed</span>
</code></pre>

<a href="#costs" id="costs" style="color: inherit; text-decoration: none;">
  <h1>Costs</h1>
</a>
<p>It is important to note that the Keypom contracts are 100% <strong>FEE FREE</strong> and will remain that way for the <em>forseeable future</em>. These contracts are a public good and are meant to inspire change in the NEAR ecosystem.</p>
<p>With that being said, there are several mandatory costs that must be taken into account when using Keypom. These costs are broken down into two categories: per key and per drop.</p>
<blockquote>
<p><strong>NOTE:</strong> Creating an empty drop and then adding 100 keys in separate calls will incur the same cost as creating a drop with 100 keys in the same call.</p>
</blockquote>

<a href="#per-drop" id="per-drop" style="color: inherit; text-decoration: none;">
  <h2>Per Drop</h2>
</a>
<p>When creating an empty drop, there is only one cost to keep in mind regardless of the drop type:</p>
<ul>
<li>Storage cost (<strong>~0.006 $NEAR</strong> for simple drops)</li>
</ul>

<a href="#per-key" id="per-key" style="color: inherit; text-decoration: none;">
  <h2>Per Key</h2>
</a>
<p>Whenever keys are added to a drop (either when the drop is first created or at a later date), the costs are outlined below.</p>

<a href="#key-costs-for-simple-drop" id="key-costs-for-simple-drop" style="color: inherit; text-decoration: none;">
  <h3>Key Costs for Simple Drop</h3>
</a>
<ul>
<li>$NEAR sent whenever the key is used (can be 0).</li>
<li>Access key allowance (<strong>~0.0187 $NEAR per use</strong>).</li>
<li>Storage for creating access key (<strong>0.001 $NEAR</strong>).</li>
<li>Storage cost (<strong>~0.006 $NEAR</strong> for simple drops)</li>
</ul>

<a href="#additional-costs-for-nft-drops" id="additional-costs-for-nft-drops" style="color: inherit; text-decoration: none;">
  <h3>Additional Costs for NFT Drops</h3>
</a>
<p>Since keys aren&#39;t registered for use until <strong>after</strong> the contract has received the NFT, we don&#39;t know how much storage the token IDs will use on the contract. To combat this, the Keypom contract will automatically measure the storage used up for storing each token ID in the <code>nft_on_transfer</code> function and that $NEAR will be taken from the funder&#39;s balance.</p>

<a href="#additional-costs-for-ft-drops" id="additional-costs-for-ft-drops" style="color: inherit; text-decoration: none;">
  <h3>Additional Costs for FT Drops</h3>
</a>
<p>Since accounts claiming FTs may or may not be registered on the Fungible Token contract, Keypom will automatically try to register <strong>all</strong> accounts. This means that the drop creators must front the cost of registering users depending on the <code>storage_balance_bounds</code> returned from the FT contract. This applies to every use for every key.</p>
<p>In addition, Keypom must be registered on the FT contract. If you create a FT drop and are the first person to ever do so for a specific FT contract on Keypom, Keypom will be automatically registered when the drop is created. This is a one time cost and once it is done, no other account will need to register Keypom for that specific FT contract.</p>

<a href="#additional-costs-for-fc-drops" id="additional-costs-for-fc-drops" style="color: inherit; text-decoration: none;">
  <h3>Additional Costs for FC Drops</h3>
</a>
<p>Drop creators have a ton of customization available to them when creation Function Call drops. A cost that they might incur is the attached deposit being sent alongside the function call. Keypom will charge creators for all the attached deposits they specify.</p>
<blockquote>
<p><strong>NOTE:</strong> The storage costs are dynamically calculated and will vary depending on the information you store on-chain.</p>
</blockquote>

<a href="#how-linkdrops-work" id="how-linkdrops-work" style="color: inherit; text-decoration: none;">
  <h1>How Linkdrops Work</h1>
</a>
<p>For some background as to how linkdrops works on NEAR: </p>
<p><em>The funder that has an account and some $NEAR:</em> </p>
<ul>
<li>creates a keypair locally <code>(pubKey1, privKey1)</code>. The blockchain doesn&#39;t know of this key&#39;s existence yet since it&#39;s all local for now.</li>
<li>calls <code>send</code> on the contract and passes in the <code>pubKey1</code> as an argument as well as the desired <code>balance</code> for the linkdrop.<ul>
<li>The contract will map the <code>pubKey1</code> to the desired <code>balance</code> for the linkdrop.</li>
<li>The contract will then add the <code>pubKey1</code> as a <strong>function call access key</strong> with the ability to call <code>claim</code> and <code>create_account_and_claim</code>. This means that anyone with the <code>privKey1</code> that was created locally, can claim this linkdrop.</li>
</ul>
</li>
<li>Funder will then create a link to send to someone that contains this <code>privKey1</code>. The link follows the following format:</li>
</ul>
<pre><code><span class="hl-1">    </span><span class="hl-0">wallet</span><span class="hl-1">.</span><span class="hl-0">testnet</span><span class="hl-1">.</span><span class="hl-0">near</span><span class="hl-1">.</span><span class="hl-0">org</span><span class="hl-1">/</span><span class="hl-0">linkdrop</span><span class="hl-1">/{</span><span class="hl-0">fundingContractAccountId</span><span class="hl-1">}/{</span><span class="hl-0">linkdropKeyPairSecretKey</span><span class="hl-1">}?</span><span class="hl-0">redirectUrl</span><span class="hl-1">={</span><span class="hl-0">redirectUrl</span><span class="hl-1">}</span>
</code></pre>
<ul>
<li><code>fundingContractAccountId</code>: The contract accountId that was used to send the funds.</li>
<li><code>linkdropKeyPairSecretKey</code>: The corresponding secret key to the public key sent to the contract.</li>
<li><code>redirectUrl</code>: The url that wallet will redirect to after funds are successfully claimed to an existing account. The URL is sent the accountId used to claim the funds as a query param.</li>
</ul>
<p><em>The receiver of the link that is claiming the linkdrop:</em> </p>
<ul>
<li>Receives the link which includes <code>privKey1</code> and sends them to the NEAR wallet.</li>
<li>Wallet creates a new keypair <code>(pubKey2, privKey2)</code> locally. The blockchain doesn&#39;t know of this key&#39;s existence yet since it&#39;s all local for now.</li>
<li>Receiver will then choose an account ID such as <code>new_account.near</code>. </li>
<li>Wallet will then use the <code>privKey1</code> which has access to call <code>claim</code> and <code>create_account_and_claim</code> in order to call <code>create_account_and_claim</code> on the contract.<ul>
<li>It will pass in <code>pubKey2</code> which will be used to create a full access key for the new account.</li>
</ul>
</li>
<li>The contract will create the new account and transfer the funds to it alongside any NFT or fungible tokens pre-loaded.</li>
</ul>

<a href="#contributing" id="contributing" style="color: inherit; text-decoration: none;">
  <h1>Contributing</h1>
</a>
<p>First off, thanks for taking the time to contribute! Contributions are what makes the open-source community such an amazing place to learn, inspire, and create. Any contributions you make will benefit everybody else and are <strong>greatly appreciated</strong>.</p>
<p>Please try to create bug reports that are:</p>
<ul>
<li><em>Reproducible.</em> Include steps to reproduce the problem.</li>
<li><em>Specific.</em> Include as much detail as possible: which version, what environment, etc.</li>
<li><em>Unique.</em> Do not duplicate existing opened issues.</li>
<li><em>Scoped to a Single Bug.</em> One bug per report.</li>
</ul>
<p>You can use <a href="https://github.com/igorshubovych/markdownlint-cli">markdownlint-cli</a> to check for common markdown style inconsistency.</p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h1>License</h1>
</a>
<p>This project is licensed under the <strong>GPL License</strong>.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">keypom-<wbr/>js</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="tsd-kind-class"><a href="classes/KeypomWallet.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg>Keypom<wbr/>Wallet</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ContractSourceMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg>Contract<wbr/>Source<wbr/>Metadata</a></li>
<li class="tsd-kind-interface"><a href="interfaces/CreateDropProtocolArgs.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Create<wbr/>Drop<wbr/>Protocol<wbr/>Args</a></li>
<li class="tsd-kind-interface"><a href="interfaces/CreateOrAddReturn.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Create<wbr/>Or<wbr/>Add<wbr/>Return</a></li>
<li class="tsd-kind-interface"><a href="interfaces/Drop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Drop</a></li>
<li class="tsd-kind-interface"><a href="interfaces/DropConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Drop<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/EnvVars.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Env<wbr/>Vars</a></li>
<li class="tsd-kind-interface"><a href="interfaces/FCData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>FCData</a></li>
<li class="tsd-kind-interface"><a href="interfaces/FTData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>FTData</a></li>
<li class="tsd-kind-interface"><a href="interfaces/Funder.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Funder</a></li>
<li class="tsd-kind-interface"><a href="interfaces/FungibleTokenMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Fungible<wbr/>Token<wbr/>Metadata</a></li>
<li class="tsd-kind-interface"><a href="interfaces/GeneratedKeyPairs.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Generated<wbr/>Key<wbr/>Pairs</a></li>
<li class="tsd-kind-interface"><a href="interfaces/KeyInfo.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Key<wbr/>Info</a></li>
<li class="tsd-kind-interface"><a href="interfaces/Method.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Method</a></li>
<li class="tsd-kind-interface"><a href="interfaces/NFTData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>NFTData</a></li>
<li class="tsd-kind-interface"><a href="interfaces/NonFungibleTokenMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Non<wbr/>Fungible<wbr/>Token<wbr/>Metadata</a></li>
<li class="tsd-kind-interface"><a href="interfaces/PasswordPerUse.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Password<wbr/>Per<wbr/>Use</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Drop</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedDropConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Drop<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedFCData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>ReturnedFCData</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedFTData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>ReturnedFTData</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedKeyInfo.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Key<wbr/>Info</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedMethod.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Method</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedNFTData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>ReturnedNFTData</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedNonFungibleTokenMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Non<wbr/>Fungible<wbr/>Token<wbr/>Metadata</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedNonFungibleTokenObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Non<wbr/>Fungible<wbr/>Token<wbr/>Object</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedPublicSaleConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Public<wbr/>Sale<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedSimpleData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Simple<wbr/>Data</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedTimeConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Time<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ProtocolReturnedUsageConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Protocol<wbr/>Returned<wbr/>Usage<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/PublicSaleConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Public<wbr/>Sale<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/SimpleData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Simple<wbr/>Data</a></li>
<li class="tsd-kind-interface"><a href="interfaces/TimeConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Time<wbr/>Config</a></li>
<li class="tsd-kind-interface"><a href="interfaces/UsageConfig.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Usage<wbr/>Config</a></li>
<li class="tsd-kind-type-alias"><a href="types/AnyWallet.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4194304-path"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)" id="icon-4194304-text"></path></svg>Any<wbr/>Wallet</a></li>
<li class="tsd-kind-type-alias"><a href="types/NearKeyPair.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-4194304-path"></use><use href="#icon-4194304-text"></use></svg>Near<wbr/>Key<wbr/>Pair</a></li>
<li class="tsd-kind-variable"><a href="variables/nearAPI.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-32-path"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)" id="icon-32-text"></path></svg>nearAPI</a></li>
<li class="tsd-kind-variable"><a href="variables/supportedLinkdropClaimPages.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-32-path"></use><use href="#icon-32-text"></use></svg>supported<wbr/>Linkdrop<wbr/>Claim<wbr/>Pages</a></li>
<li class="tsd-kind-function"><a href="functions/KeypomContextProvider.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg>Keypom<wbr/>Context<wbr/>Provider</a></li>
<li class="tsd-kind-function"><a href="functions/accountExists.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>account<wbr/>Exists</a></li>
<li class="tsd-kind-function"><a href="functions/addKeys.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>add<wbr/>Keys</a></li>
<li class="tsd-kind-function"><a href="functions/addToBalance.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>add<wbr/>To<wbr/>Balance</a></li>
<li class="tsd-kind-function"><a href="functions/addToSaleAllowlist.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>add<wbr/>To<wbr/>Sale<wbr/>Allowlist</a></li>
<li class="tsd-kind-function"><a href="functions/addToSaleBlocklist.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>add<wbr/>To<wbr/>Sale<wbr/>Blocklist</a></li>
<li class="tsd-kind-function"><a href="functions/canUserAddKeys.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>can<wbr/>User<wbr/>Add<wbr/>Keys</a></li>
<li class="tsd-kind-function"><a href="functions/claim.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>claim</a></li>
<li class="tsd-kind-function"><a href="functions/claimTrialAccountDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>claim<wbr/>Trial<wbr/>Account<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/createDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>create<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/createNFTSeries.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>createNFTSeries</a></li>
<li class="tsd-kind-function"><a href="functions/createTrialAccountDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>create<wbr/>Trial<wbr/>Account<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/deleteDrops.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>delete<wbr/>Drops</a></li>
<li class="tsd-kind-function"><a href="functions/deleteKeys.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>delete<wbr/>Keys</a></li>
<li class="tsd-kind-function"><a href="functions/estimateRequiredDeposit.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>estimate<wbr/>Required<wbr/>Deposit</a></li>
<li class="tsd-kind-function"><a href="functions/execute.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>execute</a></li>
<li class="tsd-kind-function"><a href="functions/formatLinkdropUrl.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>format<wbr/>Linkdrop<wbr/>Url</a></li>
<li class="tsd-kind-function"><a href="functions/formatNearAmount.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>format<wbr/>Near<wbr/>Amount</a></li>
<li class="tsd-kind-function"><a href="functions/ftTransferCall.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>ft<wbr/>Transfer<wbr/>Call</a></li>
<li class="tsd-kind-function"><a href="functions/generateKeys.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>generate<wbr/>Keys</a></li>
<li class="tsd-kind-function"><a href="functions/getContractSourceMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Contract<wbr/>Source<wbr/>Metadata</a></li>
<li class="tsd-kind-function"><a href="functions/getCurMethodData.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Cur<wbr/>Method<wbr/>Data</a></li>
<li class="tsd-kind-function"><a href="functions/getDropInformation.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Drop<wbr/>Information</a></li>
<li class="tsd-kind-function"><a href="functions/getDropSupplyForOwner.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Drop<wbr/>Supply<wbr/>For<wbr/>Owner</a></li>
<li class="tsd-kind-function"><a href="functions/getDrops.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Drops</a></li>
<li class="tsd-kind-function"><a href="functions/getEnv.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Env</a></li>
<li class="tsd-kind-function"><a href="functions/getFTMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>getFTMetadata</a></li>
<li class="tsd-kind-function"><a href="functions/getKeyBalance.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Key<wbr/>Balance</a></li>
<li class="tsd-kind-function"><a href="functions/getKeyInformation.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Key<wbr/>Information</a></li>
<li class="tsd-kind-function"><a href="functions/getKeyInformationBatch.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Key<wbr/>Information<wbr/>Batch</a></li>
<li class="tsd-kind-function"><a href="functions/getKeySupplyForDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Key<wbr/>Supply<wbr/>For<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/getKeyTotalSupply.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Key<wbr/>Total<wbr/>Supply</a></li>
<li class="tsd-kind-function"><a href="functions/getKeys.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Keys</a></li>
<li class="tsd-kind-function"><a href="functions/getKeysForDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Keys<wbr/>For<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/getNFTMetadata.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>getNFTMetadata</a></li>
<li class="tsd-kind-function"><a href="functions/getNftSupplyForDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Nft<wbr/>Supply<wbr/>For<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/getNftTokenIDsForDrop.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Nft<wbr/>TokenIDs<wbr/>For<wbr/>Drop</a></li>
<li class="tsd-kind-function"><a href="functions/getPubFromSecret.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Pub<wbr/>From<wbr/>Secret</a></li>
<li class="tsd-kind-function"><a href="functions/getStorageBase.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Storage<wbr/>Base</a></li>
<li class="tsd-kind-function"><a href="functions/getUserBalance.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>User<wbr/>Balance</a></li>
<li class="tsd-kind-function"><a href="functions/hashPassword.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>hash<wbr/>Password</a></li>
<li class="tsd-kind-function"><a href="functions/initKeypom.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>init<wbr/>Keypom</a></li>
<li class="tsd-kind-function"><a href="functions/nftTransferCall.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>nft<wbr/>Transfer<wbr/>Call</a></li>
<li class="tsd-kind-function"><a href="functions/parseNearAmount.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>parse<wbr/>Near<wbr/>Amount</a></li>
<li class="tsd-kind-function"><a href="functions/removeFromSaleAllowlist.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>remove<wbr/>From<wbr/>Sale<wbr/>Allowlist</a></li>
<li class="tsd-kind-function"><a href="functions/removeFromSaleBlocklist.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>remove<wbr/>From<wbr/>Sale<wbr/>Blocklist</a></li>
<li class="tsd-kind-function"><a href="functions/setupKeypom.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>setup<wbr/>Keypom</a></li>
<li class="tsd-kind-function"><a href="functions/updateFunder.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>update<wbr/>Funder</a></li>
<li class="tsd-kind-function"><a href="functions/updateKeypomContractId.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>update<wbr/>Keypom<wbr/>Contract<wbr/>Id</a></li>
<li class="tsd-kind-function"><a href="functions/updateSale.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>update<wbr/>Sale</a></li>
<li class="tsd-kind-function"><a href="functions/useKeypom.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>use<wbr/>Keypom</a></li>
<li class="tsd-kind-function"><a href="functions/withdrawBalance.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>withdraw<wbr/>Balance</a></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>